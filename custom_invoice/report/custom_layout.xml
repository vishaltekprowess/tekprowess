<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Header -->
    <template id="tek_header_layout">
        <div class="header">
            <table style="width: 100%; border-collapse: collapse;border-width: 2px !important;">
                <tbody style="border-width: 2px !important;border-bottom: 1px;">

                    <tr>
                        <td
                            style="width: 50%; padding: 15px; border-right: 1px solid #000; vertical-align: top;">
                            <div style="display: flex; align-items: center;">
                                <img t-if="company.logo" class="o_company_logo_big"
                                    t-att-src="image_data_uri(company.logo)" alt="Logo" />
                            </div>
                        </td>
                        <td
                            style="width: 50%; padding: 15px; text-align: center; vertical-align: middle;">
                            <h2 style="margin: 0; font-size: 24px; font-weight: bold;">
                                <t t-if="o and o._name == 'sale.order'">
                                    <t t-if="env.context.get('proforma', False) or is_pro_forma">
                                        Proforma Invoice
                                    </t>
                                    <t t-else="">
                                        Quotation
                                    </t>
                                </t>
                                <t t-elif="o and o._name == 'stock.picking'">
                                    Delivery Note
                                </t>
                                <t t-elif="o and o._name == 'account.move'">
                                    <t t-if="o.move_type == 'out_invoice' and o.state == 'cancel'">
                                        Cancelled Invoice
                                    </t>
                                    <t t-elif="o.move_type == 'out_refund'">
                                        Credit Note
                                    </t>
                                    <t t-elif="o.move_type == 'in_refund'">
                                        Vendor Credit Note
                                    </t>
                                    <t t-elif="o.move_type == 'in_invoice'">
                                        Vendor Invoice
                                    </t>
                                    <t t-else="">
                                        Tax Invoice
                                    </t>
                                </t>
                                <t t-else="">
                                    Tax Invoice
                                </t>
                            </h2>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </template>

    <!-- Footer -->
    <template id="tek_footer_layout">
        <div class="footer o_boxed_footer_custom">
            <div
                style="border-top: 1px solid #000; padding: 10px; text-align: center; background-color: #f9f9f9;">
                <p style="margin: 0; font-style: italic;">
                    <strong>Thanks for your business!</strong>
                </p>
            </div>
        </div>
    </template>

    <!-- Base layout using header and footer -->
    <template id="tek_base_layout">
        <t t-call="custom_invoice.tek_header_layout" />
        <t t-out="0" />
        <t t-call="custom_invoice.tek_footer_layout" />
    </template>

    <!-- Address block containing user address data -->
    <template id="tek_address_layout">
        <t t-set="colclass"
            t-value="('col-sm-5' if report_type == 'html' else 'col-5') + ' ms-auto'" />
        <t t-if="address">
            <table style="width: 100%; border-collapse: collapse; border-top: 1px solid #000;">
                <tbody>

                    <tr>
                        <td
                            style="padding: 8px; border-right: 1px solid #000; background-color: #2174af;color: white; width: 25%;">
                            <strong>Invoice No</strong>
                        </td>
                        <td style="padding: 8px; border-right: 1px solid #000; width: 25%;">
                            <t t-if="o">
                                <span t-field="o.name" />
                            </t>
                        </td>
                        <td
                            style="padding: 8px; border-right: 1px solid #000; background-color: #2174af;color: white; width: 25%;">
                            <strong>Invoice Date</strong>
                        </td>
                        <td style="padding: 8px; border-right: 1px solid #000; width: 25%;">
                            <t t-if="o">
                                <span t-if="o.invoice_date and context_timestamp"
                                    t-esc="o.invoice_date.strftime('%Y-%m-%d')" />
                            </t>
                        </td>
                    </tr>
                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse; border-top: 1px solid #000;">
                <tbody>

                    <tr t-if="o">
                        <td style="padding: 10px; border-right: 1px solid #000; width: 50%; vertical-align: top;">
                            <strong>
                                <span t-field="o.partner_id.name" />
                            </strong> 
                            <br/>
                            <span t-if="o.partner_id.country_id.name" t-esc="o.partner_id.country_id.name" /> ,
                            <span t-if="o.partner_id.state_id.name" t-esc="o.partner_id.state_id.name" /> ,
                            <span t-if="o.partner_id.zip" t-field="o.partner_id.zip" /> ,
                            <span t-if="o.partner_id.city" t-field="o.partner_id.city" /> ,
                            <span t-if="o.partner_id.street2" t-field="o.partner_id.street2" /> ,
                            <span t-if="o.partner_id.street" t-field="o.partner_id.street" />
                            <br/> 
                            Phone : <span t-if="o.partner_id.phone" t-field="o.partner_id.phone" />
                            <br/>
                            GSTIN No : <span t-if="o.partner_id.vat" t-field="o.partner_id.vat" />
                            <br/>
                            Place of Supply : <span t-if="o.partner_id.state_id.name" t-field="o.partner_id.state_id.name" />
                            <br/>
                            State Code : <span t-if="o.partner_id.state_id" t-field="o.partner_id.state_id" />
                        </td>

                        <td style="padding: 10px; border-right: 1px solid #000; width: 50%; vertical-align: top;">
                            <strong>
                                <span t-field="o.company_id.name"/>
                            </strong>
                            <br/>
                            <span t-if="o.company_id.street" t-field="o.company_id.street"/>,
                            <span t-if="o.company_id.street2" t-field="o.company_id.street2"/>,
                            <span t-if="o.company_id.country_id.name" t-esc="o.company_id.country_id.name" /> ,
                            <span t-if="o.company_id.city" t-field="o.company_id.city" /> ,
                            <span t-if="o.company_id.state_id.name" t-esc="o.company_id.state_id.name" /> ,
                            <span t-if="o.company_id.zip" t-field="o.company_id.zip" />
                            <br/>
                            <span t-if="o.company_id.country_id" t-esc="o.company_id.country_id.name"/>
                            <br/>
                            <t t-if="o.company_id.phone">
                                Phone: <span t-field="o.company_id.phone"/><br/>
                            </t>

                            <t t-if="o.company_id.vat">
                                GSTIN No: <span t-field="o.company_id.vat"/><br/>
                            </t>

                            <t t-if="o.company_id.state_id">
                                Place of Supply: <span t-field="o.company_id.state_id.name"/><br/>
                                State Code: <span t-field="o.company_id.state_id.code"/>
                            </t>
                        </td>

                    </tr>
                </tbody>
            </table>
        </t>
    </template>

    <!-- Layout record that will use base layout and address block -->
    <template id="tek_custom_layout">

        <t t-call="custom_invoice.tek_base_layout">
            <div style="border: 2px solid black;" t-attf-class="article o_tek_report_custom "
                t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
                t-att-data-oe-lang="en_US">

                <t t-call="custom_invoice.tek_address_layout" />
                <t t-out="0" />
            </div>
        </t>
    </template>

    <!-- Option record seen in setting -->
    <record id="tek_custom" model="report.layout">
        <field name="name">Custom</field>
        <field name="sequence">8</field>
        <field name="view_id" ref="custom_invoice.tek_custom_layout" />
    </record>


</odoo>